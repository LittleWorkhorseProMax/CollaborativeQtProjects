# P1：讲解

​	这是一个基于 **Qt 5.15+ (Qt Quick / QML)** 和 **C++17** 构建的现代化图像管理应用演示项目。它展示了如何将 Qt Quick 的流畅界面与 C++ 的高性能逻辑（包括 LibCurl 网络库）相结合。

​	详细文档参阅 `docs/` 目录。

##  （1）项目概览 /🛠 技术架构

本项目旨在演示一个完整的客户端架构，包含以下核心模块：

- **图片加入**: 支持选择本地图片，提供可视化裁剪 UI，并支持上传（模拟）到服务器。
- **图片总览**: 瀑布流式的图片展示，支持分类筛选。
- **图片搜索**: 支持关键词搜索和“以图搜图”功能。
- **数据后台**: 展示服务器统计数据的仪表盘。

#### 1. 前端 UI (Qt Quick / QML)

- 完全脱离了传统的 QWidget 或 WebEngine，使用 **Qt Quick Controls 2** 构建原生高性能界面。
- 采用 **Material Design** 风格，界面简洁现代。
- 使用 **QML Signal/Slot** 机制与 C++ 后端进行异步通信，保证 UI 永不卡顿。

#### 2. 后端逻辑 (C++)

- **NetworkManager**: 核心控制器，继承自 `QObject`。
- **多线程模型**: 所有网络请求和耗时图像处理均在 `std::thread` 中执行，结果通过 `QMetaObject::invokeMethod` 调度回主线程。
- **LibCurl 集成**: 使用 LibCurl 处理复杂的 HTTP Multipart 上传请求。
- **图像处理**: 使用 `QImage` 进行本地图片加载、裁剪和格式转换。

#### 3. 构建系统

- 使用 **CMake** 进行项目管理，兼容 Qt5 和 Qt6。
- 使用了 `vcpkg` (可选) 来管理第三方依赖 (如 LibCurl)。

## （2）目录结构 / 快速开始

- `main.cpp`: 应用程序入口。
- `main.qml`: UI 主框架。
- `NetworkManager`: C++ 业务逻辑类。
- `Page*.qml`: 各个功能子页面。
- `docs/`: 详细的代码文档与实现原理解析。

#### 依赖

- Qt 5.15 或 Qt 6.x
- LibCurl 开发库
- CMake 3.16+
- 支持 C++17 的编译器 (MSVC 2019+, GCC 8+, Clang)

#### 编译运行

1.  配置 CMake 项目，指定 `QT_DIR`。
2.  编译项目。
3.  运行生成的可执行文件。

> **注意**: 项目中的上传和数据获取接口均为模拟实现（连接到 httpbin.org 或返回 Mock 数据），无需真实搭建后端即可体验完整流程。

# P2：工作记录

## 使用 VSCode 与 Git 协作开发

#### 1. 配置 VSCode

##### （1）<span style="color:purple;">配置GIT</span>支持

VSCode 内置 Git 支持。（通常自动检测已安装的 Git？）

> 实际上第一次点击最左下角的><图标，选择 `Open Remote Repository` 之后vscode会自动安装Git支持。
>
> 会出现登录到github的界面？
>
> 会多出一个 `Azure Repos` 插件。（就可以由直接打开远程仓库了）

- 检查“源代码管理选项”出现初始化仓库等几个选项。

> 我的这个选项卡打开后提示“当前没有源代码管理提供程序进行注册”，原因是我之前把vscode内置的git扩展给关了。
>
> 插件搜索 `@builtin` 找到并开启即可。

- `Ctrl + Shift + P`打开命令面板输入 `Git` 检查其 是否存在。（如果提示安装 Git就装了重启）
- **配置 Git 用户信息**：（如果之前没给git设置过身份信息的话）

  > 打开 VSCode 内置终端，输入：（不是内置也行；这里设置之后vscode在以后推送时 会自动从git获取身份信息）
  >
  > ```bash
  > git config --global user.name "你的用户名"
  > git config --global user.email "你的邮箱@example.com"
  > ```
  >

##### （2）安装扩展

- **GitLens**：查看代码历史、谁改了哪行、分支图等。

## AI指令记录

本项目由之前基于html+ webengine构建 改造而来。

> 这个是一个基于wenbengine\qml和html构建的一个简单QT项目。这个界面目前有：图片加入、图片总览、图片搜索、数据后台的模块。
> 现在我有以下需求：
> 1. 想把这个应用转为纯qt quick应用，即页面完全使用qml构建（但是这样转换后的界面，还得是这样，简洁或者有一点高级感都行）
> 2. 更改各个模块的功能：图片加入模块，可以选择裁剪图片或者直接上传，上传到一个测试服务器中。图片总览模块：从测试服务器中获取部分图片展示在页面中，展示时可以有图片分类、条件筛选等功能。图片搜索模块：分为文字关键词搜索、依据图片标签搜索、以图搜图（上传图片到服务器，服务器比对数据库返回一组图片）。数据后台模块，使用一些接口获得服务器数据库过于图片数据库的相关信息，并展示。
> 3. 注意：还要用qt5\c++\libcurl等技术栈；测试服务器你可能得自己寻找，如果没有能暂时提供测试的接口，就在代码中说明后面应该怎么连接服务器，但应该先把接口写完；注意各个模块界面设计的美观程度；你可以根据你对模块的理解适当拓展功能以及美化页面。

> ……
>
> 这些是我之前已经告诉你的需求，现在请你：
>
> 继续分析目前的代码有没有完成上面的要求。
> 找一找代码里有没有bug或者值得优化的地方，并作出修改。
> 继续美化界面。
> 添加这个项目的readme.md，要有对这个项目技术架构的详细解析；在代码里加上必要的注释；另外新建一个文件夹，放上对所有代码文件的文档解释（markdown）。
